<!--
This file was generated by Spark. Do not edit it by hand.
-->
# AshScenario

Test data generation for your Ash application.

AshScenario provides a DSL for defining named prototypes in your Ash resources,
allowing you to create test data with automatic dependency resolution.

## Usage

Add the DSL to your Ash resources:

    defmodule MyApp.Post do
      use Ash.Resource, extensions: [AshScenario.Dsl]

      prototypes do
        prototype :example_post,
          title: "My Example Post",
          content: "This is example content",
          blog_id: :example_blog  # Reference to prototype in Blog resource
      end
    end

    defmodule MyApp.Blog do
      use Ash.Resource, extensions: [AshScenario.Dsl]

      prototypes do
        prototype :example_blog,
          name: "My Example Blog"
      end
    end

Then run scenarios:

    # Run prototypes with database persistence (default)
    AshScenario.run([
      {MyApp.Blog, :example_blog},
      {MyApp.Post, :example_post}
    ])

    # Run prototypes as in-memory structs
    AshScenario.run([
      {MyApp.Post, :example_post}
    ], strategy: :struct)

    # Run all prototypes for a resource
    AshScenario.run_all(MyApp.Post)


## prototypes
Define named prototypes for creating test data

### Nested DSLs
 * [create](#prototypes-create)
 * [prototype](#prototypes-prototype)
   * attr
   * create





### prototypes.create









### Options

| Name | Type | Default | Docs |
|------|------|---------|------|
| [`function`](#prototypes-create-function){: #prototypes-create-function } | `mfa \| (any, any -> any)` |  | Optional custom function for creating this resource module's records |
| [`action`](#prototypes-create-action){: #prototypes-create-action } | `atom` | `:create` | Create action name to use when no function is provided |





### Introspection

Target: `AshScenario.Dsl.Create`

### prototypes.prototype
```elixir
prototype ref
```




### Nested DSLs
 * [attr](#prototypes-prototype-attr)
 * [create](#prototypes-prototype-create)




### Arguments

| Name | Type | Default | Docs |
|------|------|---------|------|
| [`ref`](#prototypes-prototype-ref){: #prototypes-prototype-ref .spark-required} | `atom` |  |  |
### Options

| Name | Type | Default | Docs |
|------|------|---------|------|
| [`action`](#prototypes-prototype-action){: #prototypes-prototype-action } | `atom` |  | Override the create action for this specific prototype |
| [`function`](#prototypes-prototype-function){: #prototypes-prototype-function } | `mfa \| (any, any -> any)` |  | Override the creation function for this specific prototype |


### prototypes.prototype.attr
```elixir
attr name, value
```








### Arguments

| Name | Type | Default | Docs |
|------|------|---------|------|
| [`name`](#prototypes-prototype-attr-name){: #prototypes-prototype-attr-name .spark-required} | `atom` |  |  |
| [`value`](#prototypes-prototype-attr-value){: #prototypes-prototype-attr-value .spark-required} | `any` |  |  |
### Options

| Name | Type | Default | Docs |
|------|------|---------|------|
| [`virtual`](#prototypes-prototype-attr-virtual){: #prototypes-prototype-attr-virtual } | `boolean` | `false` | Allow keys not defined as attributes/relationships; passed as create arguments |





### Introspection

Target: `AshScenario.Dsl.Attr`

### prototypes.prototype.create









### Options

| Name | Type | Default | Docs |
|------|------|---------|------|
| [`function`](#prototypes-prototype-create-function){: #prototypes-prototype-create-function } | `mfa \| (any, any -> any)` |  | Optional custom function for creating this resource module's records |
| [`action`](#prototypes-prototype-create-action){: #prototypes-prototype-create-action } | `atom` | `:create` | Create action name to use when no function is provided |





### Introspection

Target: `AshScenario.Dsl.Create`




### Introspection

Target: `AshScenario.Dsl.Prototype`





<style type="text/css">.spark-required::after { content: "*"; color: red !important; }</style>
